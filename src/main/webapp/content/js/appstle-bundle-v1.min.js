"use strict";var appstleBundleInit=function(){var n,e,t,a,l=document.getElementsByTagName("head")[0],o=(new Date).getTime();if(null!==(n=RS)&&void 0!==n&&null!==(n=n.Config)&&void 0!==n&&n.disableLoadingJquery||(e="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js",t=function(){window.appstle_jQuery=jQuery.noConflict(!0)},(a=document.createElement("script")).type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){t()},a.src=e,l.appendChild(a)),"undefined"==typeof Mustache){var i=document.createElement("script");i.src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.1.0/mustache.js",i.type="text/javascript",l.appendChild(i)}new URLSearchParams(window.location.search).get("variant");var E="";!function n(e){var t,a;(null!==(t=RS)&&void 0!==t&&null!==(t=t.Config)&&void 0!==t&&t.disableLoadingJquery?window.jQuery:window.appstle_jQuery)&&window.Mustache&&window.Shopify?e(null!==(a=RS)&&void 0!==a&&null!==(a=a.Config)&&void 0!==a&&a.disableLoadingJquery?window.jQuery:window.appstle_jQuery):window.setTimeout(function(){n(e)},20)}(function(I){var O=I;I(function(){var a,n=(new Date).getTime()-o;function l(n,e,t){var a,l,i;if(window.Shopify){RS.Config=Object.assign(RS.Config,"undefined"!=typeof _RSConfig&&null!==_RSConfig?_RSConfig:{}),window.RSConfig=RS.Config;var o=RSConfig.product;n&&(o=n),function(n){if(!n)return;for(var e=n.variants,t={},a={},l=0;l<e.length;l++){var i=e[l];t[i.title]=Object.assign({},i),a[i.id]=Object.assign({},i)}RSConfig.variantsByTitle=t,RSConfig.variantsById=a}(o);var r,d,u,s,c,p;RSConfig.variantsByTitle,RSConfig.variantsById;window.products||(window.products={}),RSConfig.product&&(window.products[RSConfig.product.handle]=RSConfig.product),decodeURIComponent(window.location.pathname).includes("/products/")&&"true"===(null===(a=RSConfig)||void 0===a||null===(a=a.bundle)||void 0===a?void 0:a.showOnProductPage)&&(v(),O("body").on("click",".as-bundle-cart",function(){h(this),O(".as-bundle-popup-wrapper").remove();var e,n,t=function(n){var l=[],i=C(n);if("MIX_AND_MATCH"!==(null==i?void 0:i.bundleType)||b(n,i))return O(n).parents(".as-bundle-wrapper").find(".as-bundle-variant").each(function(n,e){var t,a;("MIX_AND_MATCH"!==(null==i?void 0:i.bundleType)||O(e).parents(".as-bundle-product, .as-current-product").find(".as-checkmark-round input[type=checkbox]").is(":checked"))&&l.push({id:O(e).val(),quantity:(null===(t=O(e).parents(".as-bundle-product, .as-current-product"))||void 0===t||null===(t=t.find(".as-quantity-select"))||void 0===t?void 0:t.val())||1,selling_plan:(null===(a=O(e).parents(".as-bundle-product, .as-current-product"))||void 0===a||null===(a=a.find(".as-sellingPlan-select"))||void 0===a?void 0:a.val())||""})}),l}(this);e=this,n=t,fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:n})}).then(function(n){if(n.ok)return y(e);g(e)}).catch(function(n){console.log(n),g(e)})}),r="[name=id]",d=function(){O(".as-bundle-wrapper").remove(),setTimeout(v,100)},u=document.querySelector(r),s={attributes:!0,childList:!0,subtree:!0},c=new MutationObserver(d),u&&s&&c.observe(u,s)),O("body").on("click",".as-bundle-checkout",function(){h(this),y(this)}),O("body").on("click",".as-bundle-cancel",function(){O(this).parents(".as-bundle-popup-wrapper").remove()}),O("body").on("change",".as-checkmark-round input[type=checkbox]",function(n){var e=this,t=C(e),a=b(e,t),l=O(e).parents(".as-bundle-wrapper").find(".as-bundle-cart"),i=m(e);if(a?l.removeClass("as-button-disabled"):l.addClass("as-button-disabled"),"MIX_AND_MATCH"===(null==t?void 0:t.bundleType)){var o=O(e).parents(".as-bundle-wrapper").find(".as-checkmark-round input[type=checkbox]:not(:checked)");null!=t&&t.maximumNumberOfItems&&(i>=(null==t?void 0:t.maximumNumberOfItems)?o.each(function(n,e){O(e).parents(".as-current-product, .as-bundle-product").addClass("as-item-disabled")}):o.each(function(n,e){O(e).parents(".as-current-product, .as-bundle-product").removeClass("as-item-disabled")}))}}),O("body").on("change",".as-variant-select",function(n){var e=window.products[O(this).parents(".as-bundle-product, .as-current-product").data("product-handle")],t=f(e,parseInt(n.target.value));!function(n,c,p){var e,t=O('<label class="as-sellingPlan-select-label as-select-label">'.concat((null===(e=RS)||void 0===e||null===(e=e.Config)||void 0===e||null===(e=e.bundle)||void 0===e?void 0:e.deliveryFrequency)||"Delivery Fequency","</label>")),a=O('<select class="as-sellingPlan-select"></select>'),v=C(p),f=[];if(O.each(null==n?void 0:n.selling_plan_groups,function(n,e){"appstle"===e.app_id&&O.each(e.selling_plans,function(n,e){if(function(n){var e,t=__st.cid,a=RSConfig.customer_tags||[],l=!0;if(!t&&RSConfig.memberOnlySellingPlansJson&&RSConfig.memberOnlySellingPlansJson[n]&&(l=!1),t&&RSConfig.nonMemberOnlySellingPlansJson&&RSConfig.nonMemberOnlySellingPlansJson[n]&&(l=!1),l&&t&&RSConfig.memberOnlySellingPlansJson&&RSConfig.memberOnlySellingPlansJson[n]&&RSConfig.memberOnlySellingPlansJson[n].memberInclusiveTags&&RSConfig.memberOnlySellingPlansJson[n].memberInclusiveTags.trim()){var i=RSConfig.memberOnlySellingPlansJson[n].memberInclusiveTags.split(","),o=(e=i,a.filter(function(n){return-1!=e.indexOf(n)}));l=0<o.length}return l}(e.id)){var t=null==c?void 0:c.selling_plan_allocations.find(function(n){return n.selling_plan_id===e.id});if(!t)return;var a=t.per_delivery_price,l=k(null==t?void 0:t.price),i=k(a),o=null,r=null;r=t&&t.price_adjustments&&2===t.price_adjustments.length?k(o=t.price_adjustments[1].price):(o=a,i);var d=e.price_adjustments.shift();if(f.push({name:e.name,id:e.id,formattedPrice:i,price:a,totalPrice:l,secondPrice:o,secondFormattedPrice:r,discount:d?"percentage"===d.value_type?"".concat(d.value,"%"):k(d.value):"",deliveryText:e.options[0].name}),null!=v&&v.showCombinedSellingPlan){var u=O(p).parents(".as-bundle-wrapper").find(".as-sellingPlan-select-checkout");if(u.parents(".as-sellingPlan-select-wrapper-checkout").show(),null!=c&&c.requires_selling_plan&&O(u).find('option[value=""]').remove(),!u.find("option[value=".concat(e.id,"]")).length){var s=!(null==v||!v.selectSubscriptionByDefault)&&u.find("option").length===(null!=c&&c.requires_selling_plan?0:1);u.append('<option value="'.concat(null==e?void 0:e.id,'" ').concat(s?"selected":"",">").concat(null==e?void 0:e.name,"</option>"))}}}})}),0<f.length){f.sort(function(n,e){return n.price-e.price}),null!=c&&c.requires_selling_plan||O("<option />",{html:RS.Config.oneTimePurchaseText||"Select Delivery Option",value:""}).appendTo(a),O(f).each(function(n,e){var t=null==e?void 0:e.name;O("<option />",{value:e.id,html:t,selected:!(null==v||!v.selectSubscriptionByDefault)&&0===n}).appendTo(a)});var l=O(p).parents(".as-bundle-product, .as-current-product").find(".as-sellingPlan-select-wrapper");l.children().remove(),O(t).appendTo(l),O(a).appendTo(l),a.trigger("change"),null!=v&&v.showCombinedSellingPlan&&(O(".as-sellingPlan-select-checkout").trigger("change"),l.hide())}}(e,t,this)}),O("body").on("change",".as-sellingPlan-select",function(n){var e=O(this).parents(".as-bundle-product, .as-current-product"),t=window.products[e.data("product-handle")],a=parseInt(e.find(".as-variant-select").val()),l=f(t,a);!function(n,e,t,a,l){var i,o,r=0,d=O(l).parents(".as-bundle-product, .as-current-product"),u=C(l);if(d.find(".as-perDelivery-price").remove(),a){var s,c=null==e||null===(s=e.selling_plan_allocations)||void 0===s?void 0:s.filter(function(n){return(null==n?void 0:n.selling_plan_id)===a}).pop();r=null==c?void 0:c.price,i=null==c?void 0:c.per_delivery_price,o=null==c?void 0:c.compare_at_price;var p=_(i,u);if(i!==r){var v,f=k(p);O('<span class="as-perDelivery-price">'.concat(f,"/").concat((null===(v=RS)||void 0===v||null===(v=v.Config)||void 0===v||null===(v=v.bundle)||void 0===v?void 0:v.perDelivery)||"delivery","</span>")).insertAfter(d.find(".as-original-price"))}}else r=e.price,o=null==e?void 0:e.compare_at_price;(null==e?void 0:e.price)>o&&(o=null==e?void 0:e.price);var b=_(r,u);if(b||0===b){var m=k(b);d.find(".as-sale-price").html(m)}if(o||0===o){var h=k(o);d.find(".as-original-price").html(h)}}(0,l,0,parseInt(n.target.value),this)}),O("body").on("change",".as-sellingPlan-select-checkout",function(a){I(this).parents(".as-bundle-wrapper").find(".as-current-product, .as-bundle-product").each(function(n,e){var t=O(e);t.find('.as-sellingPlan-select-wrapper option[value="'.concat(a.target.value,'"]')).length&&t.find(".as-sellingPlan-select").val(a.target.value)})}),O("head").append('<style>\n    .as-bundle-wrapper {\n      margin: 30px 0;\n    }\n    \n    .as-current-product, .as-bundle-product {\n      padding: 16px;\n      border-bottom: 1px solid rgb(234,234,234);\n      border-left:  1px solid rgb(234,234,234);\n      border-right:  1px solid rgb(234,234,234);\n      display: flex;\n    }\n    .as-current-product {\n    border-top:  1px solid rgb(234,234,234);\n    }\n    \n    .as-current-product_image, .as-bundle-product_image {\n      width: 100px;\n      height: 100px;\n    }\n    \n    .as-current-product_name, .as-bundle-product_name, .as-sale-price, .as-original-price {\n      font-size: 14px;\n      line-height: 18px;\n      text-decoration: none;\n      color: currentColor;\n    }\n    .as-sale-price, .as-original-price {\n     font-weight: bold;\n    }\n    \n    .as-original-price {\n    text-decoration: line-through;\n    font-size: 12px;\n    color: red;\n    }\n    \n    .as-perDelivery-price {\n      font-size: 10px;\n      opacity: 0.8;\n      color: currentColor;\n      line-height: 18px;\n      margin-top: -7px !important;\n      display: block;\n      margin: 0;\n    }\n    \n    \n    .as-bundle-product_details {\n      margin-left: 12px;\n      display: flex;\n      flex-direction: column;\n      flex-grow: 1;\n    }\n    \n    .as-checkmark {\n      position: absolute;\n      left: 8px;\n      top: 8px;\n      height: 18px;\n      width: 18px;\n    }\n    \n    .as-current-product, .as-bundle-product {\n    position: relative;\n    }\n    \n    .as-bundle-primary-button, .as-bundle-secondary-button  {\n      width: 100%;\n      background-color: rgb(18, 18, 18);\n      color: #fff;\n      border: none;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      padding: 16px 20px;\n      font-size: 14px;\n    }\n    \n    .custom-popup .as-bundle-primary-button {\n      background-color: #fff;\n      color: rgb(18, 18, 18);\n    }\n    .as-bundle-checkout-wrapper {\n    margin-top: 16px;\n    \n    }\n    \n    .as-bundle-checkout-description {\n      font-size: 12px;\n      text-align: center;\n      margin-top: 6px;\n    }\n    \n    .as-bundle-title {\n      font-size: 16px;\n      text-align: center;\n      font-weight: bold;\n      line-height: 1.4;\n    margin-bottom: 5px;\n    }\n    \n    .as-bundle-description {\n      font-size: 14px;\n      line-height: 18px;\n      text-align: center;\n    }\n    .as-bundle-detail-wrapper {\n    margin-bottom: 12px;\n    }\n    \n    .as-variant-select, .as-sellingPlan-select, .as-sellingPlan-select-checkout, .as-quantity-select {\n      padding: 5px;\n      border-radius: 8px;\n    }\n    \n    .as-variant-select-wrapper {\n      flex-grow: 1;\n      margin-top: auto;\n      margin-bottom: 10px;\n    }\n\n    .as-variant-select {\n      width: 100%;\n    }\n\n    .as-quantity-select-wrapper {\n      margin-right: 6px;\n    }\n\n    .as-quantity-select {\n      width: 100%;\n    }\n    .as-bundle-product_price {\n      margin-bottom: 10px;\n    }\n    \n    .as-select-wrapper {\n      display: flex;\n      margin-top: auto;\n      justify-content: space-between;\n    }\n    \n    .as-select-label {\n      font-size: 10px;\n      text-transform: uppercase;\n      display: block;\n    }\n    \n    .as-sellingPlan-select-wrapper, .as-sellingPlan-select-wrapper-checkout {\n      flex-shrink: 1;\n      width: 100%;\n    }\n    \n    .as-sellingPlan-select-wrapper-checkout {\n      margin-bottom: 12px;\n    }\n    \n    .as-sellingPlan-select, .as-sellingPlan-select-checkout {\n      width: 100%;\n    }\n    \n    .custom-popup{\n      max-width: 300px;\n      width: 100%;\n      border: 1px solid rgba(33,43,54,1);\n      border-radius: 3px;\n      padding: 2.5rem 3.5rem;\n      background-color: rgba(33,43,54,1);\n      font-size: 14px;\n      position: fixed;\n      bottom: 3.25rem;\n      right: 2.25rem;\n      animation-name: popup-modal;\n      animation-duration: 1s;\n      animation-iteration-count: 1;\n      display: none;\n      color: white;\n      z-index: 999999;\n    }\n    @keyframes popup-modal {\n    0%   {background:none; bottom:0px; }\n    }\n    .custom-popup .icon-cross{\n      text-align: end;\n    }\n    .custom-popup .icon-cross .fa-times{\n      padding: .25rem .25rem 0 0;\n      font-size: 18px;\n    }\n    .custom-popup .popup-body{\n    \n    }\n    .custom-popup .popup-body .alert{\n      text-align: center;\n      font-style: italic;\n    font-family: Roboto, Arial, sans-serif;\n    margin-bottom: .75rem;\n    }\n    .custom-popup .popup-body .message{\n      text-align: center;\n      font-size: 18px;\n      font-weight: bold;\n     font-family: Roboto, Arial, sans-serif;\n    }\n    .custom-popup .popup-body .discount{\n      margin-top: 1rem;\n      text-align: center;\n      font-family: Roboto, Arial, sans-serif;\n    }\n    .custom-popup .popup-body hr{\n      border: 1px solid black;\n    }\n    .custom-popup .popup-body .buttons{\n     text-align: center;\n     margin-top: 1rem;\n    }\n    .custom-popup .popup-body .buttons .button-yes{\n     padding: .25rem .5rem .25rem .5rem;\n     color: white;\n     background-color: #48a767;\n     border: 1px solid black;\n     border-radius: 3px;\n     margin-right: .25rem;\n    }\n    .custom-popup .popup-body .buttons .button-no{\n      padding: .25rem .75rem .25rem .75rem;\n      color: black;\n      background: none;\n      border: 1px solid black;\n      border-radius:3px ;\n      margin-left: .25rem;\n      font-size: 12px;\n    \n    }\n    \n    .as-bundle-secondary-button  {\n      background-color: #454f5b;\n      color: white;\n      margin-top: 16px;\n    }\n    \n    .as-bundle-cancel {\n      cursor: pointer;\n    }\n    \n    input.as-bundle-variant {\n      display: none;\n    }\n    \n    \n    .as-bundle-primary-button-text {\n      display: inline-block;\n    }\n    \n    .as-bundle-primary-button-loader {\n      display: none;\n    }\n    .as-bundle-loading .as-bundle-primary-button {\n      opacity: 0.7;\n      pointer-events: none;\n      cursor: not-allowed;\n    }\n    .as-bundle-loading .as-bundle-primary-button-text {\n      display: none;\n    }\n    \n    .as-bundle-loading .as-bundle-primary-button-loader {\n      display: flex;\n    }\n    \n    .appstle_loader {\n      border: 2px solid rgba(255, 255, 255, 0.2);\n      border-top: 2px solid #fff;\n      border-radius: 50%;\n      width: 20px;\n      height: 20px;\n      animation: appstle_loading_spin 0.7s linear infinite; }\n    \n      .appstle_loader:empty {\n        display: block !important;\n      }\n    \n      .appstle-bundle-line-through {\n        text-decoration: line-through;\n      }\n    \n      .as-checkmark-round label {\n        background-color: white;\n        border: 1px solid #767676;\n        border-radius: 3px;\n        cursor: pointer;\n        height: 22px;\n        left: 8px;\n        position: absolute;\n        top: 8px;\n        width: 22px;\n        // pointer-events: none;\n    }\n    \n    .as-checkmark-round label:hover {\n      border-color: black;\n    }\n    \n      .as-checkmark-round label:after {\n        border: 2px solid #fff;\n        border-top: none;\n        border-right: none;\n        content: "";\n        height: 6px;\n        left: 4px;\n        opacity: 1;\n        position: absolute;\n        top: 6px;\n        transform: rotate(-45deg);\n        width: 11px;\n      //  pointer-events: none;\n    }\n    \n      .as-checkmark-round input[type="checkbox"] {\n        visibility: hidden;\n      //  pointer-events: none;\n      }\n    \n      .as-checkmark-round input[type="checkbox"]:checked + label {\n        background-color: #66bb6a;\n        border-color: #66bb6a;\n      }\n    \n      .as-checkmark-round input[type="checkbox"]:checked + label:after {\n        opacity: 1;\n      }\n    \n      .as-button-disabled, .as-item-disabled {\n        opacity: 0.8;\n        pointer-events: none;\n        cursor: not-allowed;\n      }\n    \n      .as-pointer-none {\n        pointer-events: none;\n      }\n    \n    @keyframes appstle_loading_spin {\n      0% {\n        transform: rotate(0deg); }\n    \n      100% {\n        transform: rotate(360deg); } }\n    \n    @-webkit-keyframes spin {\n      0% {\n        transform: rotate(0deg); }\n    \n      100% {\n        transform: rotate(360deg); } }\n    \n          </style>\n          '.concat(function(){var n="";try{var e,t=JSON.parse(null===(e=RS)||void 0===e||null===(e=e.Config)||void 0===e||null===(e=e.bundle)||void 0===e?void 0:e.elementCSS);if(t)for(var a=0;a<(null==t?void 0:t.length);a++)n+="<style>".concat(t[a],"</style>")}catch(n){}return n}(),"\n          <style>").concat(null===(p=RS)||void 0===p||null===(p=p.Config)||void 0===p||null===(p=p.bundle)||void 0===p?void 0:p.customCss,"</style>")),O(".as-variant-select").trigger("change"),null!==(l=RSConfig.bundle)&&void 0!==l&&l.bundleRules&&JSON.parse(null===(i=RSConfig.bundle)||void 0===i?void 0:i.bundleRules).length&&function(){var n=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(){this.addEventListener("load",function(){var n=this.responseURL;console.log("origOpe.n -> url="+n),B(n)&&E!==JSON.stringify(this.response)&&(O("#appstle_overlay").length,setTimeout(w,100),E=JSON.stringify(this.response))}),n.apply(this,arguments)};var l=window.fetch;window.fetch=function(){var e=arguments,a=this;return new Promise(function(t,n){l.apply(a,e).then(function(n){var e=n.url;B(e)&&(O("#appstle_overlay").length,setTimeout(w,100)),t(n)}).catch(function(n){console.error(n)})})}}()}}function v(){var n,e,t,a,l,i,o=(e=d(),t=A(),a=(null===(n=RSConfig)||void 0===n||null===(n=n.product)||void 0===n?void 0:n.id)||"",l=e.filter(function(n){var e;return null==n||null===(e=n.variants)||void 0===e?void 0:e.find(function(n){return(null==n?void 0:n.id)===parseInt(t)})}),i=e.filter(function(n){var e;return null==n||null===(e=n.products)||void 0===e?void 0:e.find(function(n){return(null==n?void 0:n.id)===a})}),{variantLevelBundles:l,productLevelBundles:i}),x=o.variantLevelBundles,k=o.productLevelBundles;u(x,k,function(){return a=(i=S(a=x,l=k)).variantLevelBundles,l=i.productLevelBundles,null===(r=RSConfig)||void 0===r||null===(r=r.product)||void 0===r||null===(r=r.variants)||void 0===r||r.filter(function(n){return(null==n?void 0:n.id)===parseInt(A())}),o=RSConfig.product,b=a,m=o,_='<div class="as-bundle-wrapper" data-bundle-id={{bundle.id}}>\n                  <div class="as-bundle-detail-wrapper">\n                     <div class="as-bundle-title">{{{bundle.title}}}</div>\n                     <div class="as-bundle-description">{{{bundle.description}}}</div>\n                  </div>\n                  <div class="as-bundle-product-wrapper">\n                  <div class="as-current-product" data-product-handle="{{{currentProductData.handle}}}">\n                    <div class="as-checkmark-round {{#bundle.isBundleTypeClassic}}as-pointer-none{{/bundle.isBundleTypeClassic}}">\n                      <input type="checkbox" id="{{currentVariantData.id}}{{bundle.id}}" {{#currentVariantData.isChecked}}checked{{/currentVariantData.isChecked}} />\n                      <label for="{{currentVariantData.id}}{{bundle.id}}"></label>\n                    </div>\n                    <a href="/products/{{{currentProductData.handle}}}?variant={{currentVariantData.id}}" target="_blank"><img src="{{currentProductData.featured_image}}" class="as-current-product_image"></a>\n                    <div class="as-bundle-product_details">\n                      <a class="as-current-product_name" href="/products/{{{currentProductData.handle}}}?variant={{currentVariantData.id}}" target="_blank">{{currentVariantData.bundleVariantTitle}}</a>\n                      <div class="as-current-product_price">\n                          <span class="as-sale-price">{{{currentVariantData.formattedPrice}}}</span>{{#bundle.showCompareAtPrice}}&nbsp;<span class="as-original-price">{{{currentVariantData.formattedOriginalPrice}}}</span>{{/bundle.showCompareAtPrice}}\n                      </div>\n                      <div class="as-variant-select-wrapper" style="display: none;">\n                        <label class="as-select-label">'.concat((null===(h=RS)||void 0===h||null===(h=h.Config)||void 0===h||null===(h=h.bundle)||void 0===h?void 0:h.variant)||"Variant",'</label>\n                        <select class="as-variant-select as-bundle-variant">\n                          <option value="{{currentVariantData.id}}">{{currentVariantData.bundleVariantTitle}}</option>\n                        <select>\n                      </div>\n                      <div class="as-select-wrapper">\n                        <div class="as-quantity-select-wrapper">\n                          <label class="as-select-label">').concat((null===(g=RS)||void 0===g||null===(g=g.Config)||void 0===g||null===(g=g.bundle)||void 0===g?void 0:g.quantity)||"Quantity",'</label>\n                          <select class="as-quantity-select as-bundle-quantity">\n                          {{#quantityList}}\n                            <option value="{{.}}">{{.}}</option>\n                          {{/quantityList}}\n                          <select>\n                        </div>\n                        <div class="as-sellingPlan-select-wrapper">\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  {{#variants}}\n                  <div class="as-bundle-product" data-product-handle="{{{productHandle}}}">\n                    <div class="as-checkmark-round {{#bundle.isBundleTypeClassic}}as-pointer-none{{/bundle.isBundleTypeClassic}}">\n                      <input type="checkbox" id="{{id}}{{bundle.id}}" {{#isChecked}}checked{{/isChecked}} />\n                      <label for="{{id}}{{bundle.id}}"></label>\n                    </div>\n                    <a href="/products/{{{productHandle}}}?variant={{id}}"><img src="{{variantImage}}" target="_blank" class="as-bundle-product_image"></a>\n                    <div class="as-bundle-product_details">\n                      <a class="as-bundle-product_name" href="/products/{{{productHandle}}}?variant={{id}}" target="_blank">{{bundleVariantTitle}}</a>\n                      <div class="as-bundle-product_price">\n                         <span class="as-sale-price">{{{formattedPrice}}}</span>{{#bundle.showCompareAtPrice}}&nbsp;<span class="as-original-price">{{{formattedOriginalPrice}}}</span>{{/bundle.showCompareAtPrice}}\n                      </div>\n                      <div class="as-variant-select-wrapper" style="display: none;">\n                        <label class="as-select-label">').concat((null===(y=RS)||void 0===y||null===(y=y.Config)||void 0===y||null===(y=y.bundle)||void 0===y?void 0:y.variant)||"Variant",'</label>\n                        <select class="as-variant-select as-bundle-variant">\n                          <option value="{{id}}">{{bundleVariantTitle}}</option>\n                        <select>\n                      </div>\n                      <div class="as-select-wrapper">\n                        <div class="as-quantity-select-wrapper">\n                          <label class="as-select-label">').concat((null===(w=RS)||void 0===w||null===(w=w.Config)||void 0===w||null===(w=w.bundle)||void 0===w?void 0:w.quantity)||"Quantity",'</label>\n                          <select class="as-quantity-select as-bundle-quantity">\n                          {{#quantityList}}\n                            <option value="{{.}}">{{.}}</option>\n                          {{/quantityList}}\n                          <select>\n                        </div>\n                        <div class="as-sellingPlan-select-wrapper">\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  {{/variants}}\n                  </div>\n                  <div class="as-bundle-checkout-wrapper">\n                  <div class="as-sellingPlan-select-wrapper-checkout" style="display: none;">\n                    <label class="as-sellingPlan-select-label as-select-label">').concat((null===(C=RS)||void 0===C||null===(C=C.Config)||void 0===C||null===(C=C.bundle)||void 0===C?void 0:C.deliveryFrequency)||"Delivery Fequency",'</label>\n                    <select class="as-sellingPlan-select-checkout">\n                      <option value="">').concat(RS.Config.oneTimePurchaseText||"Select Delivery Option",'</option>\n                    </select>\n                  </div>\n                    <div class="as-bundle-primary-button as-bundle-cart {{#bundle.isCheckoutButtonDisabledByDefault}}as-button-disabled{{/bundle.isCheckoutButtonDisabledByDefault}}">\n                      <span class="as-bundle-primary-button-text">{{{bundle.actionButtonText}}}</span>\n                      <div class="as-bundle-primary-button-loader"><div class=\'appstle_loader\'></div></div>\n                    </div>\n                    <div class="as-bundle-checkout-description">{{{bundle.actionButtonDescription}}}</div>\n                  </div>\n               </div>'),b.forEach(function(n){var e,t,a,l=n.variants.find(function(n){return n.id===parseInt(A())});if(null!=l&&null!==(e=l.variantData)&&void 0!==e&&e.available){var i={variants:(a=n.variants,t=a.filter(function(n){if((null==n?void 0:n.id)!==parseInt(A())&&n.productData)return n}),t.filter(function(n){var e;return null==n||null===(e=n.variantData)||void 0===e?void 0:e.available})),currentVariantData:l,currentProductData:m,bundle:O.extend(n,{showCompareAtPrice:Boolean(n.discountValue)}),quantityList:Array.from({length:100},function(n,e){return e+1})},o=Mustache.render(_,i);n.template=o}}),a=b,d=l,f='<div class="as-bundle-wrapper" data-bundle-id={{bundle.id}}>\n                  <div class="as-bundle-detail-wrapper">\n                     <div class="as-bundle-title">{{{bundle.title}}}</div>\n                     <div class="as-bundle-description">{{{bundle.description}}}</div>\n                  </div>\n                  <div class="as-bundle-product-wrapper">\n                  <div class="as-current-product" data-product-handle="{{{currentProductData.productData.handle}}}">\n                    <div class="as-checkmark-round {{#bundle.isBundleTypeClassic}}as-pointer-none{{/bundle.isBundleTypeClassic}}">\n                      <input type="checkbox" id="{{currentProductData.productData.id}}{{bundle.id}}"  {{#currentProductData.isChecked}}checked{{/currentProductData.isChecked}} />\n                      <label for="{{currentProductData.productData.id}}{{bundle.id}}"></label>\n                    </div>\n                    <a href="/products/{{{currentProductData.productData.handle}}}" target="_blank"><img src="{{currentProductData.productData.featured_image}}" class="as-bundle-product_image"></a>\n                    <div class="as-bundle-product_details">\n                      <a class="as-bundle-product_name" href="/products/{{{currentProductData.productData.handle}}}" target="_blank">{{currentProductData.title}}</a>\n                      <div class="as-bundle-product_price">\n                          <span class="as-sale-price">{{{currentProductData.formattedPrice}}}</span>{{#bundle.showCompareAtPrice}}&nbsp;<span class="as-original-price">{{{currentProductData.formattedOriginalPrice}}}</span>{{/bundle.showCompareAtPrice}}\n                      </div>\n                      <div class="as-variant-select-wrapper" {{^currentProductData.hasMultipleVariant}}style="display: none;"{{/currentProductData.hasMultipleVariant}}>\n                        <label class="as-select-label">'.concat((null===(u=RS)||void 0===u||null===(u=u.Config)||void 0===u||null===(u=u.bundle)||void 0===u?void 0:u.variant)||"Variant",'</label>\n                        <select class="as-variant-select as-bundle-variant">\n                        {{#currentProductData.productData.variants}}\n                          <option value="{{id}}">{{title}}</option>\n                        {{/currentProductData.productData.variants}}\n                        <select>\n                      </div>\n                      <div class="as-select-wrapper">\n                        <div class="as-quantity-select-wrapper">\n                          <label class="as-select-label">').concat((null===(s=RS)||void 0===s||null===(s=s.Config)||void 0===s||null===(s=s.bundle)||void 0===s?void 0:s.quantity)||"Quantity",'</label>\n                          <select class="as-quantity-select as-bundle-quantity">\n                          {{#quantityList}}\n                            <option value="{{.}}">{{.}}</option>\n                          {{/quantityList}}\n                          <select>\n                        </div>\n                        <div class="as-sellingPlan-select-wrapper">\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  {{#products}}\n                  <div class="as-bundle-product" data-product-handle="{{{productData.handle}}}">\n                          <div class="as-checkmark-round {{#bundle.isBundleTypeClassic}}as-pointer-none{{/bundle.isBundleTypeClassic}}">\n                            <input type="checkbox" id="{{{productData.handle}}}{{bundle.id}}"  {{#isChecked}}checked{{/isChecked}} />\n                            <label for="{{{productData.handle}}}{{bundle.id}}"></label>\n                          </div>\n                          <a href="/products/{{{productData.handle}}}" target="_blank"><img src="{{productData.featured_image}}" class="as-bundle-product_image"></a>\n                          <div class="as-bundle-product_details">\n                              <a class="as-bundle-product_name" href="/products/{{{productData.handle}}}" target="_blank">{{title}}</a>\n                              <div class="as-bundle-product_price">\n                                  <span class="as-sale-price">{{{formattedPrice}}}</span>{{#bundle.showCompareAtPrice}}&nbsp;<span class="as-original-price">{{{formattedOriginalPrice}}}</span>{{/bundle.showCompareAtPrice}}\n                              </div>\n                              <div class="as-variant-select-wrapper" {{^hasMultipleVariant}}style="display: none;"{{/hasMultipleVariant}}>\n                                <label class="as-select-label">').concat((null===(c=RS)||void 0===c||null===(c=c.Config)||void 0===c||null===(c=c.bundle)||void 0===c?void 0:c.variant)||"Variant",'</label>\n                                <select class="as-variant-select as-bundle-variant">\n                                  {{#productData.variants}}\n                                  <option value="{{id}}">{{title}}</option>\n                                  {{/productData.variants}}\n                                <select>\n                              </div>\n                              <div class="as-select-wrapper">\n                                <div class="as-quantity-select-wrapper">\n                                  <label class="as-select-label">').concat((null===(p=RS)||void 0===p||null===(p=p.Config)||void 0===p||null===(p=p.bundle)||void 0===p?void 0:p.quantity)||"Quantity",'</label>\n                                  <select class="as-quantity-select as-bundle-quantity">\n                                    {{#quantityList}}\n                                      <option value="{{.}}">{{.}}</option>\n                                    {{/quantityList}}\n                                  <select>\n                                </div>\n                                <div class="as-sellingPlan-select-wrapper">\n\n                                </div>\n                              </div>\n                          </div>\n                  </div>\n                  {{/products}}\n                  </div>\n                  <div class="as-bundle-checkout-wrapper">\n                  <div class="as-sellingPlan-select-wrapper-checkout" style="display: none;">\n                    <label class="as-sellingPlan-select-label as-select-label">').concat((null===(v=RS)||void 0===v||null===(v=v.Config)||void 0===v||null===(v=v.bundle)||void 0===v?void 0:v.deliveryFrequency)||"Delivery Fequency",'</label>\n                    <select class="as-sellingPlan-select-checkout">\n                      <option value="">').concat(RS.Config.oneTimePurchaseText||"Select Delivery Option",'</option>\n                    </select>\n                  </div>\n                    <div class="as-bundle-primary-button as-bundle-cart {{#bundle.isCheckoutButtonDisabledByDefault}}as-button-disabled{{/bundle.isCheckoutButtonDisabledByDefault}}">\n                      <span class="as-bundle-primary-button-text">{{{bundle.actionButtonText}}}</span>\n                      <div class="as-bundle-primary-button-loader"><div class=\'appstle_loader\'></div></div>\n                    </div>\n                    <div class="as-bundle-checkout-description">{{{bundle.actionButtonDescription}}}</div>\n                  </div>\n              </div>'),d.forEach(function(n){var e,t,a=n.products.find(function(n){return n.id===RSConfig.product.id});if(null!=a&&null!==(e=a.productData)&&void 0!==e&&e.available){var l={products:(t=D(n.products),t.filter(function(n){var e;return null==n||null===(e=n.productData)||void 0===e?void 0:e.available})),currentProductData:a,bundle:O.extend(n,{showCompareAtPrice:Boolean(n.discountValue)}),quantityList:Array.from({length:100},function(n,e){return e+1})},i=Mustache.render(f,l);n.template=i}}),n=T(R(a,l=d),"sequenceNo"),"true"===(null===(e=RSConfig)||void 0===e||null===(e=e.bundle)||void 0===e?void 0:e.showMultipleOnProductPage)?n.forEach(function(n){P(null==n?void 0:n.template)}):P(null===(t=n[0])||void 0===t?void 0:t.template),void O(".as-variant-select").trigger("change");var n,e,t,a,l,i,o,r,d,u,s,c,p,v,f,b,m,h,g,y,w,C,_})}function d(){var n=JSON.parse(RSConfig.bundle.bundleRules);return n.forEach(function(n){null!=n&&n.variants&&(n.variants=JSON.parse(n.variants)),null!=n&&n.products&&(n.products=JSON.parse(n.products))}),n=n.filter(function(n){return"ACTIVE"===(null==n?void 0:n.status)})}function D(n){return n.filter(function(n){var e;return(null==n?void 0:n.id)!==(null===(e=RSConfig)||void 0===e||null===(e=e.product)||void 0===e?void 0:e.id)})}function S(n,e){var t,a,l=(a=e,(t=n).forEach(function(n){n.variants.forEach(function(n){n.productData=window.products[n.productHandle],n.variantData=f(n.productData,n.id),null!=n&&n.productHandle&&n.variantData&&(n.variantData.handle=n.productHandle)})}),a.forEach(function(n){n.products.forEach(function(n){var e,t;n.productData=window.products[n.productHandle];var a=A(),l=[];null==n||null===(e=n.productData)||void 0===e||null===(e=e.variants)||void 0===e||e.forEach(function(n){n.id===parseInt(a)?l.unshift(n):l.push(n)}),null!=n&&null!==(t=n.productData)&&void 0!==t&&t.variants&&(n.productData.variants=l)})}),{variantLevelBundles:t,productLevelBundles:a});e=l.productLevelBundles;return(n=l.variantLevelBundles).forEach(function(t,n){t.variants.forEach(function(n,e){if(n.productData)return i(n,t)})}),e.forEach(function(t){t.products.forEach(function(n,e){if(n.productData)return i(n,t)})}),{variantLevelBundles:n,productLevelBundles:e}}function i(n,e){var t,a,l,i,o,r,d;"VARIANT"===e.bundleLevel&&((i=n).bundleVariantTitle="".concat(null==i||null===(o=i.productData)||void 0===o?void 0:o.title).concat(1<(null==i||null===(r=i.productData)||void 0===r||null===(r=r.variants)||void 0===r?void 0:r.length)?" - ".concat(null==i||null===(d=i.variantData)||void 0===d?void 0:d.title):""),(t=n).variantImage=(null==t||null===(a=t.variantData)||void 0===a||null===(a=a.featured_image)||void 0===a?void 0:a.src)||(null==t||null===(l=t.productData)||void 0===l?void 0:l.featured_image)||(null==t?void 0:t.imageSrc)),function(n,e){if(n.hasDiscount=!(null==e||!e.discountValue),"VARIANT"===(null==e?void 0:e.bundleLevel)){var t,a,l;if(n.originalPrice=null==n||null===(t=n.variantData)||void 0===t?void 0:t.price,n.formattedOriginalPrice=k(null==n?void 0:n.originalPrice),"PERCENTAGE"===e.discountType)n.discountAmount=(null==n||null===(a=n.variantData)||void 0===a?void 0:a.price)*((null==e?void 0:e.discountValue)/100),n.discountedPrice=(null==n||null===(l=n.variantData)||void 0===l?void 0:l.price)-(null==n?void 0:n.discountAmount),n.formattedPrice=k(null==n?void 0:n.discountedPrice);else if("FIXED_AMOUNT"===(null==e?void 0:e.discountType)){var i,o,r=null==e||null===(i=e.variants)||void 0===i?void 0:i.length,d=(null==e?void 0:e.discountValue)/r;n.discountAmount=d,n.discountedPrice=(null==n||null===(o=n.variantData)||void 0===o?void 0:o.price)-n.discountAmount,n.formattedPrice=k(null==n?void 0:n.discountedPrice)}}else{var u,s,c,p;if(n.originalPrice=null==n||null===(u=n.productData)||void 0===u?void 0:u.price,n.hasMultipleVariant=1<(null==n||null===(s=n.productData)||void 0===s||null===(s=s.variants)||void 0===s?void 0:s.length),n.formattedOriginalPrice=k(null==n?void 0:n.originalPrice),"PERCENTAGE"===(null==e?void 0:e.discountType))n.discountAmount=(null==n||null===(c=n.productData)||void 0===c?void 0:c.price)*((null==e?void 0:e.discountValue)/100),n.discountedPrice=(null==n||null===(p=n.productData)||void 0===p?void 0:p.price)-(null==n?void 0:n.discountAmount),n.formattedPrice=k(null==n?void 0:n.discountedPrice);else if("FIXED_AMOUNT"===(null==e?void 0:e.discountType)){var v,f,r=null==e||null===(v=e.products)||void 0===v?void 0:v.length,d=(null==e?void 0:e.discountValue)/r;n.discountAmount=d,n.discountedPrice=(null==n||null===(f=n.productData)||void 0===f?void 0:f.price)-n.discountAmount,n.formattedPrice=k(null==n?void 0:n.discountedPrice)}}}(n,e),function(n,e){"CLASSIC"===(null==e?void 0:e.bundleType)&&(n.isChecked=!0);"MIX_AND_MATCH"===(null==e?void 0:e.bundleType)&&(n.isChecked=!1,null!=e&&e.maximumNumberOfItems&&(n.isChecked=!1))}(n,e),function(n){"VARIANT"===n.bundleLevel?n.totalDiscountedPrice=n.variants.reduce(function(n,e){return n+e.discountAmount},0):n.totalDiscountedPrice=n.products.reduce(function(n,e){return n+e.discountAmount},0),n.formattedTotalDiscountedPrice=k(n.totalDiscountedPrice);"PERCENTAGE"===n.discountType?n.formattedDiscount=(Number.isInteger(parseFloat(n.discountValue))?parseInt(n.discountValue):parseFloat(n.discountValue).toFixed(2))+"%":"FIXED_AMOUNT"===n.discountType&&(n.formattedDiscount=k(100*n.discountValue));"CLASSIC"===(null==n?void 0:n.bundleType)?(n.isCheckoutButtonDisabledByDefault=!1,n.isBundleTypeClassic=!0):n.isBundleTypeClassic=!1;"MIX_AND_MATCH"===(null==n?void 0:n.bundleType)?(n.isCheckoutButtonDisabledByDefault=!1,n.isBundleTypeMixAndMatch=!0,null!=n&&n.maximumNumberOfItems&&(n.isCheckoutButtonDisabledByDefault=!0)):n.isBundleTypeMixAndMatch=!1}(e)}function f(n,e){if(null!=n&&n.variants)return n.variants.filter(function(n){return(null==n?void 0:n.id)===e}).pop()}function u(n,e,t){var a=[];n.forEach(function(n){n.variants.filter(function(n){return(null==n?void 0:n.id)!==parseInt(A())}).forEach(function(n){return a.push(null==n?void 0:n.productHandle)})});e.forEach(function(n){D(n.products).forEach(function(n){return a.push(null==n?void 0:n.productHandle)})}),function e(t,a){var l=t.shift();if(l){var n;null!==(n=window)&&void 0!==n&&null!==(n=n.products)&&void 0!==n&&n[l]?t.length?e(t,a):a():fetch("/products/".concat(l,".js")).then(function(n){if(n.ok)return n.json()}).then(function(n){window.products||(window.products={}),window.products[l]=n,t.length?e(t,a):a()})}else t.length?e(t,a):a()}(a=a.filter(function(n,e){return a.indexOf(n)==e}),t)}function P(n){var e,t,a,l,i;RSConfig.bundle.selector=(null===(e=RSConfig)||void 0===e||null===(e=e.bundle)||void 0===e?void 0:e.selector)||".product-form","BEFORE"===(null===(t=RSConfig)||void 0===t||null===(t=t.bundle)||void 0===t?void 0:t.placement)?O(n).insertBefore(RSConfig.bundle.selector):"AFTER"===(null===(a=RSConfig)||void 0===a||null===(a=a.bundle)||void 0===a?void 0:a.placement)?O(n).insertAfter(RSConfig.bundle.selector):"FIRST_CHILD"===(null===(l=RSConfig)||void 0===l||null===(l=l.bundle)||void 0===l?void 0:l.placement)?O(n).prependTo(RSConfig.bundle.selector):"LAST_CHILD"===(null===(i=RSConfig)||void 0===i||null===(i=i.bundle)||void 0===i?void 0:i.placement)&&O(n).appendTo(RSConfig.bundle.selector)}function b(n,e){var t=!0,a=m(n);return a||(t=!1),"MIX_AND_MATCH"===(null==e?void 0:e.bundleType)&&(null!=e&&e.minimumNumberOfItems&&a<(null==e?void 0:e.minimumNumberOfItems)&&(t=!1),null!=e&&e.maximumNumberOfItems&&a>(null==e?void 0:e.maximumNumberOfItems)&&(t=!1)),t}function m(n){return O(n).parents(".as-bundle-wrapper").find(".as-checkmark-round input[type=checkbox]:checked").length}function h(n){O(n).parents(".as-bundle-wrapper,.as-bundle-popup-wrapper").addClass("as-bundle-loading")}function g(n){O(n).parents(".as-bundle-wrapper,.as-bundle-popup-wrapper").removeClass("as-bundle-loading")}function y(t){fetch(window.Shopify.routes.root+"cart.js",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(n){if(n.ok)return n.json();g(t)}).then(function(n){return e=n,a=t,void fetch("/".concat(RSConfig.appstle_app_proxy_path_prefix,"/cart-discount"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(n){if(n.ok)return n.json();g(a)}).then(function(n){var e,t="/checkout";"CART"===(null===(e=RSConfig)||void 0===e||null===(e=e.bundle)||void 0===e?void 0:e.redirectTo)&&(t=Boolean(null==n?void 0:n.discountNeeded)?"/discount/".concat(null==n?void 0:n.discountCode,"?redirect=/cart"):"/cart"),Boolean(null==n?void 0:n.discountNeeded)?window.location.href="".concat(t,"?discount=").concat(null==n?void 0:n.discountCode):window.location.href="".concat(t),g(a)}).catch(function(n){console.log(n),g(a)});var e,a}).catch(function(n){console.log(n),g(t)})}function w(){O(".as-bundle-popup-wrapper").remove(),fetch("/cart.js").then(function(n){if(n.ok)return n.json()}).then(function(n){var e,t,i,l,o,r;e=n,t=d(),i=[],cartProductIds=e.items.map(function(n){return null==n?void 0:n.product_id}),cartVariantIds=e.items.map(function(n){return null==n?void 0:n.variant_id}),(t=T(t,"sequenceNo")).forEach(function(n){var e,t;if(null!=n&&null!==(e=n.variants)&&void 0!==e&&e.length){var a=n.variants.map(function(n){return n.id});a.every(function(n){return cartVariantIds.includes(n)})&&i.push(n)}else if(null!=n&&null!==(t=n.products)&&void 0!==t&&t.length){var l=n.products.map(function(n){return n.id});l.every(function(n){return cartProductIds.includes(n)})&&i.push(n)}}),l=e,o=[],r=[],i.forEach(function(n){var e,t;null!=n&&null!==(e=n.variants)&&void 0!==e&&e.length?o.push(n):null!=n&&null!==(t=n.products)&&void 0!==t&&t.length&&r.push(n)}),u(o,r,function(){return t=l,n=(a=S(n=o,e=r)).variantLevelBundles,e=a.productLevelBundles,void function(n,e){var t;if(O(".appstle-bundle-subtotal").remove(),O(".appstle-bundle-line-through").removeClass("appstle-bundle-line-through"),n.length&&null!==(t=n[0])&&void 0!==t&&t.discountValue){var a,l,i,o,r,d,u,s='<div class="as-bundle-popup-wrapper custom-popup" id="popup" style="display: block;">\n                      <div class="icon-cross as-bundle-cancel">\n                          X\n                      </div>\n                      <div class="popup-body">\n                          <div class="alert">'.concat((null===(a=RS)||void 0===a||null===(a=a.Config)||void 0===a||null===(a=a.bundle)||void 0===a?void 0:a.discountPopupHeader)||"You got",'</div>\n                          <div class="message">{{{formattedDiscount}}} ').concat((null===(l=RS)||void 0===l||null===(l=l.Config)||void 0===l||null===(l=l.bundle)||void 0===l?void 0:l.discountPopupAmount)||"OFF your order!",'</div>\n                          <div class="discount">').concat((null===(i=RS)||void 0===i||null===(i=i.Config)||void 0===i||null===(i=i.bundle)||void 0===i?void 0:i.discountPopupCheckoutMessage)||"Apply discount and go to checkout?",'</div>\n                          <div class="buttons">\n                              <button class="as-bundle-primary-button as-bundle-checkout" id="yes">\n                                <span class="as-bundle-primary-button-text">').concat((null===(o=RS)||void 0===o||null===(o=o.Config)||void 0===o||null===(o=o.bundle)||void 0===o?void 0:o.discountPopupBuy)||"{{{actionButtonText}}}",'</span>\n                                <div class="as-bundle-primary-button-loader"><div class=\'appstle_loader\'></div></div>\n                              </button>\n                              <button class="as-bundle-secondary-button as-bundle-cancel">').concat((null===(r=RS)||void 0===r||null===(r=r.Config)||void 0===r||null===(r=r.bundle)||void 0===r?void 0:r.discountPopupNo)||"No","</button>\n                          </div>\n                      </div>\n                  </div>"),c=Mustache.render(s,n[0]);if(!O(".as-bundle-loading").length&&null!==(d=RSConfig)&&void 0!==d&&null!==(d=d.bundle)&&void 0!==d&&d.showDiscountPopup&&O("body").append(c),"true"===(null===(u=RSConfig)||void 0===u||null===(u=u.bundle)||void 0===u?void 0:u.showDiscountInCart)){var p=e.items_subtotal_price-n[0].totalDiscountedPrice,v=O(RSConfig.selectors.cartSubTotalSelector||".totals__subtotal-value"),f=v.clone();f.addClass("appstle-bundle-subtotal"),f.html("".concat(k(p)," ").concat(null==e?void 0:e.currency)),v.addClass("appstle-bundle-line-through"),v.before(f)}}}(T(R(n,e),"sequenceNo"),t);var n,e,t,a})})}function R(n,e){return O.merge(O.merge([],n),e)}function C(n){var e,t=parseInt(O(n).parents(".as-bundle-wrapper").data("bundle-id"));return e=t,d().filter(function(n){return(null==n?void 0:n.id)===parseInt(e)}).pop()}function _(n,e){var t;if("VARIANT"===e.bundleLevel){if("PERCENTAGE"===e.discountType)t=n-n*((null==e?void 0:e.discountValue)/100);else if("FIXED_AMOUNT"===e.discountType){var a,l=null==e||null===(a=e.variants)||void 0===a?void 0:a.length;t=n-(null==e?void 0:e.discountValue)/l}}else if("PERCENTAGE"===e.discountType)t=n-n*((null==e?void 0:e.discountValue)/100);else if("FIXED_AMOUNT"===e.discountType){var i;l=null==e||null===(i=e.products)||void 0===i?void 0:i.length;t=n-(null==e?void 0:e.discountValue)/l}return t}function x(n){var e=document.createElement("textarea");return e.innerHTML=decodeURI(encodeURI(n)),e.value}function T(n,t){return n.sort(function(n,e){return n[t]-e[t]}),n}function A(){return n="variant",void new URLSearchParams(window.location.search).get(n)||O("[name=id]").val();var n}function x(n){var e=document.createElement("textarea");return e.innerHTML=decodeURI(encodeURI(n)),e.value}function k(n){var e,t,a=RS.Config.moneyFormat,l=a;a&&(l=null==a||null===(t=a.replace("{% raw %}",""))||void 0===t?void 0:t.replace("{% endraw %}",""));"string"==typeof n&&(n=n.replace(".",""));var i,o="",r=/\{\{\s*(\w+)\s*\}\}/,d="undefined"!=typeof Shopify&&Shopify.money_format&&1<Shopify.money_format.length?Shopify.money_format:"";i="undefined"!=typeof theme?theme.moneyFormat?theme.moneyFormat:theme.money_format?theme.money_format:theme.settings&&theme.settings.moneyFormat?theme.settings.moneyFormat:theme.strings?theme.strings.moneyFormat:"":"";var u,s,c,p,v,f="";"true"===(null===(e=RS.Config)||void 0===e?void 0:e.formatMoneyOverride)?f=RS.Config.moneyFormat:f=(null===(u=window)||void 0===u?void 0:u.shopifyCurrencyFormat)||(null===(s=window)||void 0===s?void 0:s.moneyFormat)||(null===(c=window)||void 0===c||null===(c=c.Currency)||void 0===c?void 0:c.money_format_no_currency)||i||(null===(p=RSConfig)||void 0===p?void 0:p.shopMoneyFormat)||l||d||(v=RSConfig.shopMoneyFormatWithCurrencyFormat,(new DOMParser).parseFromString(v,"text/html").documentElement.textContent);function b(n,e,t,a){if(t=t||",",a=a||".",isNaN(n)||null===n)return 0;var l=(n=(n/100).toFixed(e)).split(".");return l[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t)+(l[1]?a+l[1]:"")}switch(f.match(r)[1]){case"amount":o=b(n,2);break;case"amount_no_decimals":o=b(n,0);break;case"amount_with_comma_separator":o=b(n,2,".",",");break;case"amount_no_decimals_with_comma_separator":o=b(n,0,".",",");break;case"amount_no_decimals_with_space_separator":o=b(n,0," ");break;case"amount_with_apostrophe_separator":o=b(n,2,"'")}return x(f.replace(r,o))}function B(n){for(var e=["/add","/change"],t=!1,a=0;a<e.length;a++)if(-1!==n.indexOf(e[a])){t=!0;break}return t}console.log("jQuery is loaded, after "+n+" milliseconds!"),w(),O(".appstle_sub_widget").remove(),0<O(".appstle_stand_alone_selector").length?(a=Array.prototype.slice.call(O(".appstle_stand_alone_selector")),function e(){if(null!=a&&a.length){var t=a.shift(),n=I(t).data("product-data");O(t).parents("form").find(".appstle_sub_widget").length?e():n?(l(n,I(t)),e()):fetch(location.origin+"/products/".concat(O(t).data("product-handle"),".js")).then(function(n){if(!n.ok)throw new Error("HTTP error! Status: ".concat(n.status));return n.json()}).then(function(n){O(t).attr("data-product-data",n),l(n,I(t)),e()}).catch(function(n){console.log(n)})}}()):l(void 0)})})};try{appstleBundleInit()}catch(n){}